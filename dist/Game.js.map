{"version":3,"sources":["Game.js"],"names":["ansi","require","cursor","process","stdout","posx","posy","_GameAction","Map","Game","Board","Renderer","Cells","CommandReader","_Board","_Renderer","_Cells","_CommandReader","set","toggleIsAlive","console","log","length","toggleIsSelected","setInitActiveCell","init","setGameCommands","action","get","getKeyboardInput","executeAction","printBoard","array","nextIndex","next","value","done","module","exports"],"mappings":"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","file":"Game.js","sourcesContent":["'use strict';\nconst ansi = require('ansi')\n  , cursor = ansi(process.stdout);\n  let posx = 0, posy = 0;\n\nconst _GameAction = new Map();\n\nclass Game {\n\tconstructor(Board, Renderer, Cells, CommandReader) {\n\t\tthis._Board = Board;\n\t\tthis._Renderer = Renderer;\n\t\tthis._Cells = Cells;\n\t\tthis._CommandReader = CommandReader;\n\t}\n\tsetGameCommands() {\n\t\t_GameAction.set('printHelloWorld', () => {\n\t\t\treturn 'Hello World';\n\t\t});\n\t\t_GameAction.set('TOGGLE_LIFE', () => {\n\t\t\tthis._Cells[posy][posx].toggleIsAlive();\n\t\t});\n\t\t_GameAction.set('PAUSE', () => {\n\t\t\t//todo here\n\t\t});\n\t\t_GameAction.set('PLAY', () => {\n\t\t\t//todo here\n\t\t});\n\t\t_GameAction.set('UP', () => {\n\t\t\tconsole.log(`y is : ${posy}`);\n\t\t\tif(posy < this._Cells.length-1) {\n\t\t\t\tthis._Cells[posy][posx].toggleIsSelected();\n\t\t\t\tposy+=1;\n\t\t\t\tconsole.log(this._Cells[posx][posy]);\n\t\t\t\tthis._Cells[posy][posx].toggleIsSelected();\n\t\t\t}\n\t\t});\n\t\t_GameAction.set('DOWN', () => {\n\t\t\tconsole.log(`y is : ${posy}`);\n\t\t\tif (posy > 0) {\n\t\t\t\tthis._Cells[posy][posx].toggleIsSelected();\n\t\t\t\tposy-=1;\n\t\t\t\tconsole.log(this._Cells[posx][posy]);\n\t\t\t\tthis._Cells[posy][posx].toggleIsSelected();\n\t\t\t}\n\t\t});\n\t\t_GameAction.set('RIGHT', () => {\n\t\t\tconsole.log(`x is : ${posx}`);\n\t\t\tif (posx > 0) {\n\t\t\t\tthis._Cells[posy][posx].toggleIsSelected();\n\t\t\t\tposx-=1;\n\t\t\t\tconsole.log(this._Cells[posx][posy]);\n\t\t\t\tthis._Cells[posy][posx].toggleIsSelected();\n\t\t\t}\n\t\t});\n\t\t_GameAction.set('LEFT', () => {\n\t\t\tconsole.log(`x is : ${posx}`);\n\t\t\tif (posx < this._Cells.length-1) {\n\t\t\t\tthis._Cells[posy][posx].toggleIsSelected();\n\t\t\t\tposx+=1;\n\t\t\t\tthis._Cells[posy][posx].toggleIsSelected();\n\t\t\t}\n\t\t});\n\t}\n\n\tinit() {\n\t\tthis.setInitActiveCell();\n\t\tthis._Board.init(this._Cells);\n\t\tthis._Renderer.init();\n\t\tthis.setGameCommands();\n\t}\n\n\tsetInitActiveCell() {\n\t\tthis._Cells[0][0].toggleIsSelected();\n\t}\n\texecuteAction (action) {\n\t\t_GameAction.get(action)();\n\t}\n\n\tlogic() {\n\t\tthis._CommandReader.getKeyboardInput((action) => {\n\t\t\tthis.executeAction(action);\n\t\t\tthis._Renderer.printBoard(this._Board);\n\t\t});\n\t}\n\n\tcellsIterator(array) {\n\n\t\tlet nextIndex = 0;\n\t\treturn {\n\t\t\tnext: () => nextIndex < array.length ? {value: array[nextIndex++], done: false} : {done: true}\n\t\t}\n\t}\n\n};\n\nmodule.exports = Game;\n"]}